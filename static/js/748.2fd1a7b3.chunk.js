"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[748],{3748:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var o=t(9439),a=t(7689),r=t(9143),u=t(1264),c=t(5675),l="AddNewMood_container__fBB+E",s="AddNewMood_heading__xzEHW",i=t(2791),d=t(7155),f=t(2250),v=t(184);var Z=function(){var e=(0,a.s0)(),n=(0,i.useState)(""),t=(0,o.Z)(n,2),Z=t[0],h=t[1],g=(0,i.useState)(""),m=(0,o.Z)(g,2),C=m[0],k=m[1],x=(0,i.useState)(""),S=(0,o.Z)(x,2),p=S[0],w=S[1],b=(0,i.useState)(""),j=(0,o.Z)(b,2),A=j[0],_=j[1],E=(0,f.Z)(),N=E.AlertComponent,T=E.alert,y=(0,d.Z)({url:"/addMood",options:{method:"POST",data:{name:Z,color:C}},fetch:!1}),M=(0,o.Z)(y,4),B=M[0],D=M[1],O=M[2],P=M[3];return(0,i.useEffect)((function(){var e,n,t;D&&(Array.isArray(null===(e=D.response)||void 0===e?void 0:e.data)?null===(n=D.response)||void 0===n||null===(t=n.data)||void 0===t||t.forEach((function(e){"name"===(null===e||void 0===e?void 0:e.field)?w(e.message):"color"===(null===e||void 0===e?void 0:e.field)&&_(e.message)})):T({backgroundColor:"red",message:"Some error occured!"}))}),[D]),(0,i.useEffect)((function(){B&&(h(""),k(""),T({backgroundColor:"green",message:"Mood is successfully added"}))}),[B]),(0,v.jsxs)("div",{className:l,children:[N,(0,v.jsxs)("div",{className:s,children:["Add new ",(0,v.jsx)("strong",{children:"Mood"})]}),(0,v.jsx)(c.Z,{error:p,width:"100%",label:"Name",value:Z,onChange:function(e){w(""),h(e.target.value)}}),(0,v.jsx)(c.Z,{error:A,width:"100%",label:"Color",value:C,onChange:function(e){_(""),k(e.target.value)}}),(0,v.jsxs)(u.Z,{width:"100%",gap:"10px",height:"40px",margin:"10px 0",children:[(0,v.jsx)(r.Z,{text:"ADD",width:"50%",onClick:function(){P()},loading:O}),(0,v.jsx)(r.Z,{text:"CANCEL",type:"reject",width:"50%",onClick:function(){return e(-1)}})]})]})}},2250:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(8683),a=t(9439),r=t(2791),u="Alert_container__37xgO",c=t(184);var l=function(e){var n=e.backgroundColor,t=e.message;return n="var(--".concat(n,"-color)"),(0,c.jsx)("div",{className:u,style:{backgroundColor:n},children:t})};var s=function(){var e=(0,r.useState)(!1),n=(0,a.Z)(e,2),t=n[0],u=n[1],s=(0,r.useState)({backgroundColor:"black",message:"message"}),i=(0,a.Z)(s,2),d=i[0],f=i[1],v=(0,r.useState)(),Z=(0,a.Z)(v,2),h=Z[0],g=Z[1],m=(0,r.useCallback)((function(e){clearTimeout(h),f(e),u(!0);var n=window.setTimeout((function(){u(!1)}),2e3);g(n)}),[h]);return{AlertComponent:t?(0,c.jsx)(l,(0,o.Z)({},d)):null,alert:m}}},7155:function(e,n,t){var o=t(8683),a=t(9439),r=t(2791),u=t(1243);n.Z=function(e){var n=e.url,t=e.options,c=void 0===t?{method:"GET"}:t,l=e.fetch,s=void 0===l||l,i=(0,r.useState)(null),d=(0,a.Z)(i,2),f=d[0],v=d[1],Z=(0,r.useState)(null),h=(0,a.Z)(Z,2),g=h[0],m=h[1],C=(0,r.useState)(s),k=(0,a.Z)(C,2),x=k[0],S=k[1],p=(0,r.useState)(null),w=(0,a.Z)(p,2),b=w[0],j=w[1],A=(0,r.useState)(s),_=(0,a.Z)(A,2),E=_[0],N=_[1],T=(0,r.useState)(!1),y=(0,a.Z)(T,2),M=y[0],B=y[1],D=(0,r.useCallback)((function(){N(!0),S(!0),B((function(e){return!e}))}),[]);return(0,r.useEffect)((function(){var e=u.Z.CancelToken.source();return j(e),E&&(0,u.Z)(n,(0,o.Z)((0,o.Z)({},c),{},{cancelToken:e.token})).then((function(e){v(e.data),S(!1)})).catch((function(e){u.Z.isCancel(e)||(m(e),S(!1))})),function(){e.cancel("API Request was cancelled!")}}),[E,M]),[f,g,x,D,null===b||void 0===b?void 0:b.cancel]}}}]);
//# sourceMappingURL=748.2fd1a7b3.chunk.js.map