"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[239],{4239:function(e,s,n){n.r(s),n.d(s,{default:function(){return k}});var i=n(9439),l=n(7689),c=n(1087),t="PostDetails_container__M5Yal",a="PostDetails_wrapper__B8aUg",o="PostDetails_contents__Efz0G",d="PostDetails_field__oRf3z",r="PostDetails_value__WxgYX",u="PostDetails_buttons-container__YzijC",v=n(2791),h=n(7155),m=n(2250),x=n(1961),f=n(9186),j=n(9143),N=n(1267),g=n(184);var k=function(){var e,s=(0,l.s0)(),n=(0,c.lr)(),k=(0,i.Z)(n,1)[0].get("id"),Z=(0,m.Z)(),C=Z.alert,_=Z.AlertComponent,p=(0,h.Z)({url:"/postDetails?id=".concat(k)}),b=(0,i.Z)(p,4),w=b[0],E=b[1],S=b[2],P=b[3],D=(0,h.Z)({url:"/postBlock?id=".concat(k),options:{method:"GET"},fetch:!1}),y=(0,i.Z)(D,4),T=y[0],A=y[1],I=y[2],z=y[3],B=(0,h.Z)({url:"/postUnblock?id=".concat(k),options:{method:"GET"},fetch:!1}),G=(0,i.Z)(B,4),L=G[0],O=G[1],U=G[2],K=G[3];return(0,v.useEffect)((function(){T&&(P(),C({backgroundColor:"green",message:"Post blocked successfully"}))}),[T]),(0,v.useEffect)((function(){L&&(P(),C({backgroundColor:"green",message:"Post unblocked successfully"}))}),[L]),(0,v.useEffect)((function(){A&&C({backgroundColor:"red",message:"Error occured while blocking post"})}),[A]),(0,v.useEffect)((function(){O&&C({backgroundColor:"red",message:"Error occured while unblocking post"})}),[O]),(0,g.jsxs)("div",{className:t,children:[_,S?(0,g.jsx)(x.Z,{color:"black"}):E?(0,g.jsx)(f.Z,{text:"Error occured while fetching post details"}):(0,g.jsxs)("div",{className:a,children:[(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:d,children:"Post Id:"}),(0,g.jsx)("div",{className:r,children:null===w||void 0===w?void 0:w._id})]}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:d,children:"user Id:"}),(0,g.jsx)("div",{className:r,children:null===w||void 0===w?void 0:w.userId})]}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:d,children:"with user Id:"}),(0,g.jsx)("div",{className:r,children:null===w||void 0===w?void 0:w.withUserId})]}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:d,children:"Messages count:"}),(0,g.jsx)("div",{className:r,children:null===w||void 0===w?void 0:w.messages.length})]}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:d,children:"Posted at:"}),(0,g.jsx)("div",{className:r,children:new Date(null!==(e=null===w||void 0===w?void 0:w.postedAt)&&void 0!==e?e:0).toLocaleString()})]}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:d,children:"Status:"}),(0,g.jsx)("div",{className:r,children:null!==w&&void 0!==w&&w.status?(0,g.jsx)("span",{style:{color:"green"},children:"Active"}):(0,g.jsx)("span",{style:{color:"red"},children:"Not-active"})})]}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:d,children:"Likes count:"}),(0,g.jsx)("div",{className:r,children:null===w||void 0===w?void 0:w.likes.length})]}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:d,children:"Dislikes count:"}),(0,g.jsx)("div",{className:r,children:null===w||void 0===w?void 0:w.dislikes.length})]}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:d,children:"Comments count:"}),(0,g.jsx)("div",{className:r,children:null===w||void 0===w?void 0:w.commentsCount})]}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:d,children:"Replies count:"}),(0,g.jsx)("div",{className:r,children:null===w||void 0===w?void 0:w.repliesCount})]}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:d,children:"Shares count:"}),(0,g.jsx)("div",{className:r,children:null===w||void 0===w?void 0:w.sharesCount})]}),(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)(j.Z,{text:"GO BACK",onClick:function(){return s(-1)},width:"50%"}),null!==w&&void 0!==w&&w.status?(0,g.jsx)(N.Z,{text:"BLOCK",onClick:function(){z()},width:"50%",loading:I}):(0,g.jsx)(N.Z,{text:"UNBLOCK",onClick:function(){K()},width:"50%",loading:U})]})]})]})}},9186:function(e,s,n){n.d(s,{Z:function(){return c}});var i={container:"ErrorMessage_container__9e608"},l=(n(2791),n(184));var c=function(e){var s=e.size,c=void 0===s?"20px":s,t=e.text,a=void 0===t?"Try again":t,o=n(573);return(0,l.jsxs)("div",{className:i.container,children:[(0,l.jsx)("img",{src:o,alt:"error",style:{maxWidth:c,maxHeight:c}}),(0,l.jsx)("div",{className:i.text,style:{fontSize:c},children:a})]})}},2250:function(e,s,n){n.d(s,{Z:function(){return d}});var i=n(8683),l=n(9439),c=n(2791),t="Alert_container__37xgO",a=n(184);var o=function(e){var s=e.backgroundColor,n=e.message;return s="var(--".concat(s,"-color)"),(0,a.jsx)("div",{className:t,style:{backgroundColor:s},children:n})};var d=function(){var e=(0,c.useState)(!1),s=(0,l.Z)(e,2),n=s[0],t=s[1],d=(0,c.useState)({backgroundColor:"black",message:"message"}),r=(0,l.Z)(d,2),u=r[0],v=r[1],h=(0,c.useState)(),m=(0,l.Z)(h,2),x=m[0],f=m[1],j=(0,c.useCallback)((function(e){clearTimeout(x),v(e),t(!0);var s=window.setTimeout((function(){t(!1)}),2e3);f(s)}),[x]);return{AlertComponent:n?(0,a.jsx)(o,(0,i.Z)({},u)):null,alert:j}}},7155:function(e,s,n){var i=n(8683),l=n(9439),c=n(2791),t=n(1243);s.Z=function(e){var s=e.url,n=e.options,a=void 0===n?{method:"GET"}:n,o=e.fetch,d=void 0===o||o,r=(0,c.useState)(null),u=(0,l.Z)(r,2),v=u[0],h=u[1],m=(0,c.useState)(null),x=(0,l.Z)(m,2),f=x[0],j=x[1],N=(0,c.useState)(d),g=(0,l.Z)(N,2),k=g[0],Z=g[1],C=(0,c.useState)(null),_=(0,l.Z)(C,2),p=_[0],b=_[1],w=(0,c.useState)(d),E=(0,l.Z)(w,2),S=E[0],P=E[1],D=(0,c.useState)(!1),y=(0,l.Z)(D,2),T=y[0],A=y[1],I=(0,c.useCallback)((function(){P(!0),Z(!0),A((function(e){return!e}))}),[]);return(0,c.useEffect)((function(){var e=t.Z.CancelToken.source();return b(e),S&&(0,t.Z)(s,(0,i.Z)((0,i.Z)({},a),{},{cancelToken:e.token})).then((function(e){h(e.data),Z(!1)})).catch((function(e){t.Z.isCancel(e)||(j(e),Z(!1))})),function(){e.cancel("API Request was cancelled!")}}),[S,T]),[v,f,k,I,null===p||void 0===p?void 0:p.cancel]}}}]);
//# sourceMappingURL=239.4b0ebb18.chunk.js.map